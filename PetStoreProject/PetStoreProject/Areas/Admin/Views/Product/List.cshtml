@using PetStoreProject.Areas.Admin.ViewModels
@*
   
*@
@{
    ViewData["title"] = "Danh sách sản phẩm";
    var products = (List<ProductViewForAdmin>) ViewData["products"];
    var totalPageNumber = (int)ViewData["totalPageNumber"];
    var currentPage = (int)ViewData["pageNumber"];
    var pageSize = (int)ViewData["pageSize"];
}
<div class="main-content-inner">
    <!-- main-content-wrap -->
    <div class="main-content-wrap">
        <div class="flex items-center flex-wrap justify-between gap20 mb-27">
            <h3>Danh sách sản phẩm</h3>
            <ul class="breadcrumbs flex items-center flex-wrap justify-start gap10">
                <li>
                    <a href="index.html"><div class="text-tiny">Dashboard</div></a>
                </li>
                <li>
                    <i class="icon-chevron-right"></i>
                </li>
                <li>
                    <a href="#"><div class="text-tiny">Ecommerce</div></a>
                </li>
                <li>
                    <i class="icon-chevron-right"></i>
                </li>
                <li>
                    <div class="text-tiny">Danh sách sản phẩm</div>
                </li>
            </ul>
        </div>
        <!-- product-list -->
        <div class="wg-box">
            <div class="title-box">
                <i class="icon-coffee"></i>
                <div class="body-text">Tip: Mỗi sản phẩm được cung cấp với một ID duy nhất, bạn có thể dựa vào đó để tìm chính xác sản phẩm bạn cần (#ID)</div>
            </div>
            <div class="flex items-center justify-between gap10 flex-wrap">
                <div class="wg-filter flex-grow">
                    <div class="show">
                        <div class="text-tiny">HIển thị</div>
                        <div class="select" id="pageSize">
                            
                        </div>
                        <div class="text-tiny">sản phẩm</div>
                    </div>
                    <form class="form-search">
                        <fieldset class="name">
                            <input type="text" placeholder="Tìm kiếm ở đây..." class="" name="name" tabindex="2" value="" aria-required="true" required="">
                        </fieldset>
                        <div class="button-submit">
                            <button class="" type="submit"><i class="icon-search"></i></button>
                        </div>
                    </form>
                </div>
                <a class="tf-button style-1 w208" href="add-product.html"><i class="icon-plus"></i>Thêm mới</a>
            </div>
            <div class="wg-table table-product-list">
                <ul class="table-title flex gap20 mb-14">
                    <li>
                        <div class="body-title">Sản phẩm</div>
                    </li>
                    <li>
                        <div class="body-title">ID</div>
                    </li>
                    <li>
                        <div class="body-title">Giá</div>
                    </li>
                    <li>
                        <div class="body-title">Đã bán</div>
                    </li>
                    <li>
                        <div class="body-title">Trong kho</div>
                    </li>
                    <li>
                        <div class="body-title"></div>
                    </li>
                </ul>
                <div style="max-height:740px; overflow-y:auto">
                    <ul class="flex flex-column" id="product-list">
                        
                    </ul>
                </div>
            </div>
            <div class="divider"></div>
            <div class="flex items-center justify-between flex-wrap gap10">
                <div class="text-tiny">Hiển thị @pageSize sản phẩm</div>
                @* <ul class="wg-pagination">
                    <li>
                        <a href="#"><i class="icon-chevron-left"></i></a>
                    </li>
                    <li class="active">
                        <a href="">1</a>
                    </li>
                    <li>
                        <a href="">2</a>
                    </li>
                    <li>
                        <a href="#">3</a>
                    </li>
                    <li>
                        <a href="#"><i class="icon-chevron-right"></i></a>
                    </li>
                </ul> *@
                <nav aria-label="Page navigation example">
                    <ul class="pagination" id="pageNumber">
                        
                    </ul>
            </div>
        </div>
        <!-- /product-list -->
    </div>
    <!-- /main-content-wrap -->
</div>
<!-- Quick View Content Start -->
<div class="main-product-thumbnail quick-thumb-content">
    <div class="container">
        <!-- The Modal -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <button type="button" class="close" data-bs-dismiss="modal">&times;</button>
                    </div>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="row">

                            <div class="col-lg-7 col-md-7">
                                <div class="product-details product_details_1">
                                    <div class="product-details-img">
                                        <div class="tab-content main_large_img product-details-large" id="quick_image">
                                        </div>

                                        <div class="shop-details-tab nav product-details-small" id="image_small">
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- Thumbnail Description Start -->
                            <div class="col-md-5">
                                <div class="thubnail-desc ">

                                    <!--Name-->
                                    <h3 class="product-header"><a href="#" id="quick_name"></a></h3>
                                    <ul class="rating-summary">
                                        <li class="rating-pro">
                                            <i class="icofont-ui-rating"></i>
                                            <i class="icofont-ui-rating"></i>
                                            <i class="icofont-ui-rate-blank"></i>
                                            <i class="icofont-ui-rate-blank"></i>
                                            <i class="icofont-ui-rate-blank"></i>
                                        </li>
                                        <li class="read-review"><a href="#">Xem đánh giá</a></li>
                                        <li class="write-review"><a href="#">Viết đánh giá</a></li>
                                    </ul>

                                    <!--Brand-->
                                    <div class="rating-summary" id="quick_brand">
                                        Thương hiệu :
                                    </div>

                                    <!--Price-->
                                    <div class="pro-thumb-price mt-20">
                                        <span class="regular-price" id="quick_price"></span>
                                        <span class="regular-price">VND</span>
                                    </div>

                                    @* 										<!--Detail-->
                                    <div class="pro-desc-details">
                                    Lorem ipsum dolor sit amet, consectetur adipisic elit eiusm tempor incidid ut labore et dolore magna aliqua. Ut enim ad minim venialo quis nostrud ullamco. Enim ad minim venialo quis nostrud ullamco.
                                    </div> *@

                                    <!--Option-->
                                    <div class="thubnail-desc" id="quick_option">

                                        <div class="size_color_wraper" id="quick_attribute">
                                        </div>

                                        <!--Size-->

                                        <div class="theme_size clearfix" id="quick_size">
                                        </div>
                                    </div>

                                    <div class="details_action_wraper" style="margin-top:10px; margin-bottom:10px; display:flex; align-items:center">
                                        Số lượng:
                                        <form action="#" onclick="quick_total_price()" style="border-radius: 10px">
                                            <input class="quantity" type="number" min="1" max="10" value="1" id="quick_quantity" style="width:60px;height:33px; margin-left:10px" oninput="validateQuantity(this)">
                                        </form>
                                    </div>
                                    <div>
                                        Tổng số tiền: <span id="quick_amount"></span>
                                        <span>VND</span>
                                    </div>

                                    <!--Cart-->
                                    <div class="details_action_wraper">
                                        <a class="details_cart link" title="" data-original-title="Add to Cart" tabindex="0" data-product-option-id="" id="quick_add_to_cart" onclick="addToCart(this.dataset.productOptionId, document.getElementById('quick_quantity').value)" style="cursor: pointer;">
                                            Thêm Vào Giỏ Hàng
                                        </a>
                                        @* <a class="details_wishlist" href="wishlist.html" title="" data-original-title="Wishlist" tabindex="0"><i class="icofont-heart-alt"></i></a> *@
                                    </div>

                                </div>
                            </div>
                            <!-- Thumbnail Description End -->


                        </div>
                        <!-- Row End -->
                    </div>
                    <!-- Modal footer -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Quick View Content End -->

@section ScriptOptional{
    <script>
        ChoosePage(1, 10)
        function ChoosePage(pageNumber, pageSize) {
            fetchProducts(pageSize, pageNumber);
        }

        function ChoosePageSize(pageNumber) {
            let selectedSize = document.getElementById('size').value;
            fetchProducts(selectedSize, pageNumber);
        }

    </script>

}
